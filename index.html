<!DOCTYPE html>
<html lang="tk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ShadowVPN Zone</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif;}
body{background:radial-gradient(circle at top,#000,#111,#200);color:#fff;display:flex;flex-direction:column;align-items:center;padding:30px;min-height:100vh;}
h1{font-size:2.5rem;color:#ff0033;text-shadow:0 0 15px #ff0033;letter-spacing:2px;margin-bottom:25px;}
.nav{display:flex;gap:15px;margin-bottom:20px;justify-content:center;flex-wrap:wrap;}
.nav button{background: rgba(255,255,255,0.1); border:1px solid #ff0033; color:#ff0033; padding:8px 18px; border-radius:10px; font-weight:600; cursor:pointer; transition:0.3s;}
.nav button.active, .nav button:hover{background:#ff0033;color:white;transform:scale(1.05);}
.vpn-container{width:95%; max-width:750px; display:grid; gap:20px;}
.vpn-card{background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.15); border-radius:15px; padding:20px; box-shadow:0 0 20px rgba(255,0,50,0.2); position:relative;}
.vpn-card:hover{transform:translateY(-4px);box-shadow:0 0 25px rgba(255,0,60,0.5);}
.vpn-content{display:flex; flex-direction:column; gap:10px;}
.vpn-code{font-size:1.1rem; background:rgba(255,255,255,0.1); padding:10px 14px; border-radius:10px; user-select:all; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;}
.copy-btn{background:#ff0033; border:none; padding:6px 12px; border-radius:8px; color:white; font-weight:600; cursor:pointer; transition:0.3s; align-self:flex-end;}
.copy-btn:hover{background:#ff3355; transform:scale(1.05);}
.status{display:flex; align-items:center; gap:6px; font-size:0.9rem; font-weight:600; margin-bottom:10px;}
.status span{width:10px;height:10px;border-radius:50%;display:inline-block;animation:blink 1.2s infinite;}
.online span{background:#00ff00;box-shadow:0 0 10px #00ff00;}
.offline span{background:#ff0033;box-shadow:0 0 10px #ff0033;}
.stats{font-size:0.9rem; color:#ffcc00; margin-top:5px;}
footer{margin-top:40px; text-align:center; color:#777; font-size:0.9rem;}
.download-section{text-align:center; margin-top:50px; background:rgba(255,255,255,0.05); padding:25px; border-radius:15px; box-shadow:0 0 25px rgba(255,0,0,0.2); width:90%; max-width:600px;}
.download-btn{background:#ff0033;color:white;text-decoration:none;padding:12px 25px;border-radius:10px;font-weight:bold;display:inline-block;margin-top:10px;transition:0.3s;box-shadow:0 0 15px #ff0033;}
.download-btn:hover{background:#ff3355; transform:scale(1.05); box-shadow:0 0 25px #ff3355;}
.telegram-section{text-align:center;margin-top:40px;}
.telegram-section a{background:#00bfff;color:white;text-decoration:none;padding:12px 25px;border-radius:10px;font-weight:bold;display:inline-block;transition:0.3s;box-shadow:0 0 15px #00bfff;}
.telegram-section a:hover{background:#33ccff;transform:scale(1.05);box-shadow:0 0 25px #33ccff;}
.counter-box{text-align:center; margin-bottom:20px; background:rgba(255,255,255,0.05); padding:15px; border-radius:10px; box-shadow:0 0 15px rgba(255,0,50,0.2); width:90%; max-width:400px;}
.counter-box #view-count{font-size:2rem; color:#ff0033; font-weight:600;}
.counter-box p{font-size:0.9rem; color:#fff; margin-top:5px;}
.logo-section{text-align:center; margin-top:30px; margin-bottom:30px;}
.logo-section img{max-width:200px; height:auto; border-radius:10px; box-shadow:0 0 15px rgba(255,0,50,0.3); transition:transform 0.3s;}
.logo-section img:hover{transform:scale(1.05);}
@keyframes blink {0%, 100% {opacity: 1;} 50% {opacity: 0.5;}}
</style>
</head>
<body>

<h1>üåê SHADOW.VPN ZONE {keys}</h1>

<div class="counter-box">
  <div id="view-count">0</div>
  <p>Sahypany g√∂renleri≈à sany</p>
</div>

<div class="nav" id="navTabs"></div>
<div class="vpn-container" id="vpnContainer"></div>

<div class="logo-section">
  <img src="https://example.com/shadowsocks-logo.png" alt="ShadowSocks Logo">
</div>

<div class="download-section">
  <h2 style="color:#ff0033;">ShadowSocks APK √ù√ºkle</h2>
  <a href="https://play.google.com/store/apps/details?id=com.github.shadowsocks" target="_blank" class="download-btn">üì• √ù√úKLE (APK)</a>
</div>

<div class="telegram-section">
  <h2 style="color:#00bfff;">Soraglary≈àyz √º√ßin</h2>
  <a href="https://t.me/sskeys_xs" target="_blank">üì≤ Telegramda Tapy≈à</a>
</div>

<footer>BratOk ~ Tiger_xs | tarapyndan d√∂redildi ¬© <span id="year"></span></footer>

<script>
const vpnSections=[
  [
    { code:"ss://Y2hhY2hhMjAtaWV0Zi1wb2x5MTMwNTp5aWNnTzZyc2Q1WFlfTFozWFEtSk9B@185.139.228.164:1080#sskeys.netlify.app%F0%9F%8E%96%EF%B8%8F", status:"online" },
    { code:"ss://Y2hhY2hhMjAtaWV0Zi1wb2x5MTMwNTp5aWNnTzZyc2Q1WFlfTFozWFEtSk9B@185.139.228.164:1080#sskeys.netlify.app%F0%9F%8E%96%EF%B8%8F", status:"online" },
    { code:"ss://Y2hhY2hhMjAtaWV0Zi1wb2x5MTMwNTp5aWNnTzZyc2Q1WFlfTFozWFEtSk9B@5.35.91.230:1080#sskeys.netlify.app%F0%9F%8E%96%EF%B8%8F", status:"online" }
  ],
  [
    { code:"ss://YWVzLTI1Ni1nY206UEFGYXJiN2ZlcC9BUXY0Zis1QjVESkp6ekNLZFNpN2dTUFJ6TDM2MGsrWT0@193.42.124.166:48486#sskeys.netlify.app%F0%9F%8E%96%EF%B8%8F", status:"offline" },
    { code:"ss://Y2hhY2hhMjAtaWV0Zi1wb2x5MTMwNTpGR01nTkUrY3JSVDkzd1BocVFGc1V3U0dxdkM4OTMwSlk0OVRJVW5yTDJJPQ@193.149.16.188:17267#sskeys.netlify.app%F0%9F%8E%96%EF%B8%8F", status:"offline" },
    { code:"ss://YWVzLTI1Ni1nY206NldHd2lOdWI3MWpUcnM0VGdOVGJiQW8ycjhYNGttL3J0aXdabWVBbk53Zz0@193.42.124.162:58971#sskeys.netlify.app%F0%9F%8E%96%EF%B8%8F", status:"offline" }
  ],
  [
    { code:"ss://Y2hhY2hhMjAtaWV0Zi1wb2x5MTMwNTpuTVNiRVo0L1RsaDdCb1p5ZHZPSVhQcjVVcGo1ZXlpakxGZFBnTlk4dXNNPQ@89.223.70.135:30994#sskeys.netlify.app%F0%9F%8E%96%EF%B8%8F", status:"offline" },
    { code:"ss://Y2hhY2hhMjAtaWV0Zi1wb2x5MTMwNTo0anpwU3NaSkk1U3Z3N19peEdRQm9n@185.253.7.163:20886#sskeys.netlify.app", status:"offline" },
    { code:"ss://Y2hhY2hhMjAtaWV0Zi1wb2x5MTMwNTpuTVlubGRZcDdrMkcwSzNld3M4Zi1R@45.144.177.237:652#sskeys.netlify.app%F0%9F%8E%96%EF%B8%8F", status:"offline" }
  ]
];

const STORAGE_KEY = "shadowvpn_stats_v3";
const VIEW_COUNT_KEY = "page_view_count";
const CODE_HASH_KEY = "vpn_code_hash";

// Simple hash function for vpnSections
function hashString(str) {
  let hash = 0;
  for (let i = 0; i < str.length; i++) {
    hash = ((hash << 5) - hash) + str.charCodeAt(i);
    hash |= 0; // Convert to 32-bit integer
  }
  return hash.toString();
}

function loadStats(){ 
  const raw = localStorage.getItem(STORAGE_KEY); 
  try{ return raw ? JSON.parse(raw) : {} } catch(e){ return {} }
}
function saveStats(obj){ 
  localStorage.setItem(STORAGE_KEY, JSON.stringify(obj)); 
}
function loadViewCount(){ 
  const count = localStorage.getItem(VIEW_COUNT_KEY); 
  return count ? parseInt(count) : 0; 
}
function saveViewCount(count){ 
  localStorage.setItem(VIEW_COUNT_KEY, count); 
}
function loadCodeHash(){ 
  return localStorage.getItem(CODE_HASH_KEY) || ""; 
}
function saveCodeHash(hash){ 
  localStorage.setItem(CODE_HASH_KEY, hash); 
}

let stats = loadStats();
function ensureCode(code){ 
  if(!stats[code]) stats[code]={views:0,copies:0,seen:false}; 
}

function getTodayDate(){
  const d = new Date();
  const y = d.getFullYear();
  const m = String(d.getMonth()+1).padStart(2,'0');
  const day = String(d.getDate()).padStart(2,'0');
  return `${y}-${m}-${day}`;
}

// Check if vpnSections has changed and reset view count if necessary
const currentCodeHash = hashString(JSON.stringify(vpnSections));
const storedCodeHash = loadCodeHash();
let viewCount = loadViewCount();
if (currentCodeHash !== storedCodeHash) {
  viewCount = 0; // Reset view count on code change
  saveCodeHash(currentCodeHash);
}
viewCount++;
saveViewCount(viewCount);
document.getElementById("view-count").textContent = viewCount;

const navTabs = document.getElementById("navTabs");
const vpnContainer = document.getElementById("vpnContainer");

vpnSections.forEach((_, idx) => {
  const btn = document.createElement("button");
  btn.textContent = idx + 1;
  btn.onclick = () => showSection(idx);
  if (idx === 0) btn.classList.add("active");
  navTabs.appendChild(btn);
});

function showSection(i) {
  document.querySelectorAll(".nav button").forEach(b => b.classList.remove("active"));
  document.querySelectorAll(".nav button")[i].classList.add("active");
  vpnContainer.innerHTML = "";
  vpnSections[i].forEach(item => {
    ensureCode(item.code);
    if (!stats[item.code].seen) { stats[item.code].views++; stats[item.code].seen = true; }
    const card = document.createElement("div");
    card.className = "vpn-card";

    const previewLength = 15;
    const displayCode = item.code.substring(0, previewLength) + (item.code.length > previewLength ? '...' : '');

    card.innerHTML = `
      <div class="status ${item.status}"><span></span>${item.status.toUpperCase()}</div>
      <div class="vpn-content">
        <span class="vpn-code" title="${item.code}">${displayCode}</span>
        <button class="copy-btn" data-code="${item.code}">Kopyala</button>
        <div class="date">Go√Ωlan senesi: ${getTodayDate()}</div>
        <div class="stats"><span class="copies">${stats[item.code].copies}</span> üëÄG√∂rlen. Shadow socks ‚Ä¢ code </div>
      </div>
    `;
    const copyBtn = card.querySelector(".copy-btn");
    copyBtn.addEventListener("click", () => copyAndCount(item.code, copyBtn));
    vpnContainer.appendChild(card);
  });
  saveStats(stats);
}

function copyAndCount(code, btn) {
  const textarea = document.createElement("textarea");
  textarea.value = code;
  document.body.appendChild(textarea);
  textarea.select();
  try { document.execCommand('copy'); } catch (e) {}
  document.body.removeChild(textarea);
  ensureCode(code);
  stats[code].copies++;
  saveStats(stats);
  const parent = btn.closest(".vpn-card");
  if (parent) parent.querySelector(".copies").textContent = stats[code].copies;
  alert("Kopyalandy: " + code);
}

showSection(0);
document.getElementById("year").textContent = new Date().getFullYear();
</script>
</body>
</html>
